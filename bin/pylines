#!/usr/bin/python

import sys, os
from functools import partial

code_part = partial(compile, sys.argv[1], __file__);

try:
    mode = 'eval'
    code = code_part(mode)
except SyntaxError:
    mode = 'exec'
    code = code_part(mode)

try:
    lines = sys.stdin.readlines()
    lines = map(str.strip, lines)
    out = eval(code, globals(), locals())
    if hasattr(out, '__call__'):
        out = out(lines)
    if mode == 'eval' and out:
        print out
except KeyboardInterrupt:
    sys.exit(1)

